<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <title>ArkadaÅŸÄ±nÄ± Davet Et</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "API_KEY",
            authDomain: "AUTH_DOMAIN",
            projectId: "PROJECT_ID",
            storageBucket: "STORAGE_BUCKET",
            messagingSenderId: "MESSAGING_SENDER_ID",
            appId: "APP_ID"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        window.submitForm = async (event) => {
            event.preventDefault();
            if (!document.getElementById('kvkk').checked) {
                Swal.fire('KVKK kutucuÄŸunu iÅŸaretleyiniz.');
                return;
            }

            const formData = {
                adSoyad: document.getElementById('name').value,
                acenta: document.getElementById('agency').value,
                telefon: document.getElementById('phone').value,
                sehir: document.getElementById('city').value,
                ulke: document.getElementById('country').value,
                aciklama: document.getElementById('description').value,
                tarih: new Date()
            };

            await addDoc(collection(db, "davet_edilenler"), formData);
            Swal.fire('BaÅŸarÄ±yla GÃ¶nderildi!', 'Form baÅŸarÄ±yla kaydedildi.', 'success');
            document.getElementById('inviteForm').reset();
        };

        window.sendWhatsapp = function () {
            const mesaj = encodeURIComponent("Merhaba! Seni satÄ±cÄ± olmaya davet ediyorum. BaÅŸvurmak iÃ§in ðŸ‘‰ https://davetformu.github.io/davetsayfasi/#form");
            window.open(`https://wa.me/?text=${mesaj}`, '_blank');
        };
    </script>
    <style>
        body { font-family: Arial; background: #f7f9fc; }
        form { max-width: 500px; margin: auto; background: #fff; padding: 15px; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        input, textarea { width: 100%; margin-top: 6px; margin-bottom: 12px; padding: 8px; border-radius: 4px; border: 1px solid #ddd; }
        button { background: #25D366; color: #fff; padding: 10px; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background-color: #128C7E; }
    </script>
</head>

<body>
    <div style="text-align:center; margin-top:40px;">
        <h2>âœ¨ ArkadaÅŸÄ±nÄ± Davet Et âœ¨</h2>
        <button onclick="sendWhatsapp()">WhatsApp ile Davet Et ðŸ“²</button>
    </div>

    <div style="max-width:500px; margin:auto;" id="form">
        <form id="inviteForm" onsubmit="submitForm(event)">
            <label>Ad Soyad:</label>
            <input type="text" id="name" required>

            <label>Acenta Ä°smi</label>
            <input type="text" id="agency" required>

            <label>Ä°letiÅŸim</label>
            <input type="text" id="phone" required>

            <label>Åžehir</label>
            <input type="text" id="city" required>

            <label>Ãœlke</label>
            <input type="text" id="country" required>

            <label>AÃ§Ä±klama</label>
            <textarea id="description"></textarea>

            <input type="checkbox" id="kvkk"> KVKK ÅŸartlarÄ±nÄ± kabul ediyorum<br><br>

            <button onclick="submitForm(event)">GÃ¶nder ðŸš€</button>
    </div>
</body>

</html>

